<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular Medicina</title>
<style>
body{font-family:Poppins,Arial;background:#f6f5fa;margin:0;padding:20px}
h1,h2{text-align:center}
.progress-box{width:80%;margin:20px auto}
.bar{background:#ddd;height:20px;border-radius:20px;overflow:hidden}
.bar-fill{height:100%;width:0%;background:linear-gradient(90deg,#a18cd1,#fbc2eb);transition:.4s}
.card{padding:14px;border-radius:16px;box-shadow:0 8px 18px rgba(0,0,0,.08);cursor:pointer}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:15px}
.bloq{background:#e0e0e0;cursor:not-allowed}
.ok{background:#b9fbc0}
.disp{background:#d7c7ff}
.lab{background:#cce5ff}
.copro{background:#ffd6e8}
.ing{background:#fff3b0}
small{opacity:.7}
</style>
</head>
<body>
<h1>ðŸ©º Malla Curricular â€“ Medicina</h1>
<div class="progress-box">
  <div class="bar"><div class="bar-fill" id="bar"></div></div>
  <p id="pct" style="text-align:center;font-weight:bold">0%</p>
</div>
<div id="contenedor"></div>
<script>
const materias = [
/* ================== CICLO BÃSICO ================== */
{id:"ES101",n:"EspaÃ±ol",p:1,r:[],t:"mat"},
{id:"MT101",n:"MatemÃ¡ticas",p:1,r:[],t:"mat"},
{id:"BG101",n:"BiologÃ­a I",p:1,r:[],t:"mat"},
{id:"QM101",n:"QuÃ­mica I",p:1,r:[],t:"mat"},
{id:"FI101",n:"FilosofÃ­a",p:1,r:[],t:"mat"},
{id:"ES201",n:"ExpresiÃ³n Oral y Escrita",p:2,r:["ES101"],t:"mat"},
{id:"FS202",n:"FÃ­sica MÃ©dica",p:2,r:["MT101"],t:"mat"},
{id:"HS101",n:"Historia de Honduras",p:2,r:[],t:"mat"},
{id:"QM206",n:"QuÃ­mica OrgÃ¡nica",p:2,r:["QM101"],t:"mat"},
{id:"CR201",n:"El Hombre Frente a la Vida",p:2,r:["FI101"],t:"mat"},
{id:"CR203",n:"Ã‰tica MÃ©dica",p:3,r:["FI101"],t:"mat"},
{id:"MD202",n:"BioestadÃ­stica",p:3,r:["MT101"],t:"mat"},
{id:"HS104",n:"Historia de la Medicina",p:3,r:["HS101"],t:"mat"},
{id:"QM301",n:"BioquÃ­mica",p:3,r:["QM206"],t:"mat"},
{id:"SC101",n:"SociologÃ­a",p:3,r:[],t:"mat"},
/* ================== MORFOLOGÃA ================== */
{id:"BG206",n:"EmbriologÃ­a",p:4,r:["BG101"],t:"mat"},
{id:"MD304",n:"HistologÃ­a",p:5,r:["BG206"],t:"mat"},
{id:"MD409",n:"AnatomÃ­a I",p:5,r:["QM301"],t:"mat"},
{id:"LAB_ANAT",n:"Laboratorio AnatomÃ­a",p:5,r:["MD409"],t:"lab"},
{id:"MD410",n:"AnatomÃ­a II",p:6,r:["MD409","MD304"],t:"mat"},
{id:"MD411",n:"NeuroanatomÃ­a I",p:5,r:["BG206"],t:"mat"},
{id:"LAB_NEURO",n:"Lab NeuroanatomÃ­a",p:5,r:["MD411"],t:"lab"},
{id:"MD412",n:"NeuroanatomÃ­a II",p:6,r:["MD411"],t:"mat"},

/* ================== FISIOLOGÃA ================== */
{id:"MD511",n:"FisiologÃ­a I",p:7,r:["MD410","MD412"],t:"mat"},
{id:"MD512",n:"FisiologÃ­a II",p:8,r:["MD511"],t:"mat"},

/* ================== CLÃNICAS BÃSICAS ================== */
{id:"MD610",n:"FisiopatologÃ­a I",p:9,r:["MD512"],t:"mat"},
{id:"MD611",n:"FisiopatologÃ­a II",p:10,r:["MD610"],t:"mat"},

/* ================== COPROGRAMÃTICAS ================== */
{id:"CP1",n:"Seminario Vida Universitaria",r:[],t:"copro"},
{id:"CP2",n:"Trabajo Social Educativo",r:[],t:"copro"},
{id:"CP3",n:"Seminario de Familia",r:[],t:"copro"},

/* ================== INGLÃ‰S ================== */
{id:"ING1",n:"InglÃ©s I",r:[],t:"ing"},
{id:"ING2",n:"InglÃ©s II",r:["ING1"],t:"ing"},
{id:"ING3",n:"InglÃ©s III",r:["ING2"],t:"ing"},
{id:"ING4",n:"InglÃ©s IV",r:["ING3"],t:"ing"},
{id:"ING5",n:"InglÃ©s V",r:["ING4"],t:"ing"},
{id:"ING6",n:"InglÃ©s VI",r:["ING5"],t:"ing"}
];
let ok = JSON.parse(localStorage.getItem("ok")) || [];
function puede(m){return m.r.every(x=>ok.includes(x))}
function click(id){if(ok.includes(id))ok=ok.filter(x=>x!==id);else ok.push(id);
localStorage.setItem("ok",JSON.stringify(ok));draw()}
function draw(){
const c=document.getElementById("contenedor");c.innerHTML="";
const ps=[...new Set(materias.filter(x=>x.p).map(x=>x.p))];
ps.forEach(p=>{
  const d=document.createElement("div");
  d.innerHTML=`<h2>Periodo ${p}</h2><div class="grid"></div>`;
  const g=d.querySelector(".grid");
  materias.filter(x=>x.p===p).forEach(m=>{
    const k=document.createElement("div");
    let cls="card ";
    if(ok.includes(m.id))cls+="ok";
    else if(puede(m))cls+=m.t==="lab"?"lab":"disp";
    else cls+="bloq";
    k.className=cls;
    k.innerHTML=`<strong>${m.n}</strong><small>${m.id}</small>`;
    if(puede(m))k.onclick=()=>click(m.id);
    g.appendChild(k);
  });
  c.appendChild(d);
});
const extras=document.createElement("div");
extras.innerHTML="<h2>Requisitos de GraduaciÃ³n</h2><div class='grid'></div>";
const g=extras.querySelector(".grid");
materias.filter(x=>!x.p).forEach(m=>{
  const k=document.createElement("div");
  k.className="card "+(m.t==="copro"?"copro":"ing")+(ok.includes(m.id)?" ok":"");
  k.innerHTML=`<strong>${m.n}</strong>`;
  k.onclick=()=>click(m.id);
  g.appendChild(k);
});
c.appendChild(extras);
document.getElementById("bar").style.width=Math.round(ok.length/materias.length*100)+"%";
document.getElementById("pct").innerText=Math.round(ok.length/materias.length*100)+"% completado";
}
draw();
</script>
</body>
</html>
